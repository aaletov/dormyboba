@startuml System diagram for dormyboba project
!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Context.puml
!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Container.puml

skinparam defaultFontName Open Sans

Person(studentA, "Student A", "A student")
Person(councilMemA, "CouncilMem A", "A student council member")

Container(vkBot, "Vk Bot", "", "Vk bot interface")

System_Boundary(backend, "Backend") {
  Container(vkBotService, "Vk Bot Service", "Python", "Handles Vk updates, collects composite objects")
  Container(dormybobaCore, "Core service", "Python", "Incapsulates business-logic, implements grpc API")
  ContainerDb(db, "Database", "PostgreSQL", "Stores user and group info")
}

Rel_D(studentA, vkBot, "Performs registration, creates defects, gets mailings")
Rel_D(councilMemA, vkBot, "Generates verification codes, creates mailings, etc.")

Rel_R(vkBotService, dormybobaCore, "Sends composite object to grpc API")
Rel_D(dormybobaCore, db, "CRUD")
Rel_D(vkBot, vkBotService, "Sends Vk updates")

@enduml